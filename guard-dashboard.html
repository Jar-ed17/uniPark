<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel de Seguridad | UniPark</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Styles -->
    <link rel="stylesheet" href="stylesGuard.css">

    <script src="https://unpkg.com/html5-qrcode"></script>
</head>

<body class="page-bg">

    <!-- HEADER -->
    <nav class="navbar topbar shadow-sm">
        <div class="container-fluid d-flex justify-content-between align-items-center">
            <h3 class="brand-title">
                <i class="bi bi-shield-lock-fill me-2"></i> UniPark Seguridad
            </h3>

            <button id="btnLogout" class="btn btn-danger btn-sm px-3 rounded-pill">
                <i class="bi bi-box-arrow-right"></i> Salir
            </button>
        </div>
    </nav>

    <!-- CONTENT -->
    <main class="container mt-4">

        <div class="text-center mb-4">
            <button id="btnAbrirCamara" class="btn main-btn px-4 py-2 rounded-pill">
                <i class="bi bi-camera-video"></i> Escanear QR
            </button>
        </div>

<!-- SCAN BOX FINAL -->
<div class="guard-scan-wrapper">
    <div class="guard-scan-box">
        <div id="reader"></div>

        <!-- Marco blanco -->
        <div class="qr-guides">
            <div class="corner tl"></div>
            <div class="corner tr"></div>
            <div class="corner bl"></div>
            <div class="corner br"></div>
        </div>
    </div>
</div>

<p class="scan-text">Coloca el código QR dentro del recuadro</p>

        <!-- RESULT MESSAGE -->
        <div id="resultado" class="text-center mt-3"></div>

        <!-- USER CARD -->
        <div class="glass-card mt-4 p-4">
            <h4 class="section-title mb-3">
                <i class="bi bi-person-badge"></i> Información del Usuario
            </h4>
            <div id="datosAlumno"></div>
        </div>

        <!-- PARKING STATUS -->
        <div class="glass-card mt-4 p-4">
            <h4 class="section-title mb-3">
                <i class="bi bi-car-front"></i> Estado del Estacionamiento
            </h4>

            <div class="row g-4">

                <!-- A -->
                <div class="col-md-6">
                    <div class="parking-card p-3">
                        <h5 class="parking-title">Estacionamiento A</h5>
                        <p><b>General:</b> <span id="aGeneral">0/0</span></p>
                        <p><b>Profesores:</b> <span id="aProfs">0/0</span></p>
                        <p><b>Motos:</b> <span id="aMotos">0/0</span></p>
                        <p><b>Director:</b> <span id="aDirector">0/0</span></p>
                    </div>
                </div>

                <!-- B -->
                <div class="col-md-6">
                    <div class="parking-card p-3">
                        <h5 class="parking-title">Estacionamiento B</h5>
                        <p><b>General:</b> <span id="bGeneral">0/0</span></p>
                        <p><b>Profesores:</b> <span id="bProfs">0/0</span></p>
                        <p><b>Motos:</b> <span id="bMotos">0/0</span></p>
                        <p><b>Director:</b> <span id="bDirector">0/0</span></p>
                    </div>
                </div>

            </div>
        </div>

        <!-- ACCESS TABLE -->
        <div class="glass-card mt-4 p-4">
            <h4 class="section-title mb-3">
                <i class="bi bi-clock-history"></i> Últimos Accesos
            </h4>

            <div class="table-responsive">
                <table class="table table-dark table-hover text-center" id="tablaAccesos">
                    <tr>
                        <th>Nombre</th>
                        <th>Matrícula</th>
                        <th>Acceso</th>
                        <th>Hora</th>
                    </tr>
                </table>
            </div>
        </div>

        

    </main>

    <script type="module" src="js/guard.js"></script>
</body>

</html>
